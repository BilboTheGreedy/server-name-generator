<h2 class="mb-4">Generate New Server Name</h2>

<div class="card dashboard-card">
    <div class="card-body">
        <!-- Live name preview -->
        <div class="mb-4">
            <label class="form-label">Name Preview:</label>
            <div id="namePreview" class="name-preview text-center">
                <span class="name-segment bg-light text-secondary" id="preview-unitcode">SRV</span><!--
                --><span class="name-segment bg-light text-secondary" id="preview-type">V</span><!--
                --><span class="name-segment bg-light text-secondary" id="preview-provider">X</span><!--
                --><span class="name-segment bg-light text-secondary" id="preview-region">GLBL</span><!--
                --><span class="name-segment bg-light text-secondary" id="preview-env">P</span><!--
                --><span class="name-segment bg-light text-secondary" id="preview-function">SV</span><!--
                --><span class="name-segment bg-light text-secondary" id="preview-sequence">001</span>
            </div>
            <div class="d-flex justify-content-between px-2 mt-2">
                <div style="width: calc(3/14*100%); max-width: calc(3/14*100%);" class="text-center small text-muted">Unit<br>Code</div>
                <div style="width: calc(1/14*100%); max-width: calc(1/14*100%);" class="text-center small text-muted">Type</div>
                <div style="width: calc(1/14*100%); max-width: calc(1/14*100%);" class="text-center small text-muted">Prov</div>
                <div style="width: calc(4/14*100%); max-width: calc(4/14*100%);" class="text-center small text-muted">Region</div>
                <div style="width: calc(1/14*100%); max-width: calc(1/14*100%);" class="text-center small text-muted">Env</div>
                <div style="width: calc(2/14*100%); max-width: calc(2/14*100%);" class="text-center small text-muted">Func</div>
                <div style="width: calc(2/14*100%); max-width: calc(2/14*100%);" class="text-center small text-muted">Seq</div>
            </div>
        </div>
        
        <!-- Generate Form -->
        <form id="reservationForm">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <div class="form-group">
                        <label for="unitCode">Unit Code <span class="badge bg-secondary badge-field">Max 3 chars</span></label>
                        <input type="text" class="form-control" id="unitCode" name="unitCode" 
                               placeholder="e.g., SRV" maxlength="3" data-preview="preview-unitcode" data-default="SRV">
                        <div class="char-counter"><span id="unitCodeCount">0</span>/3</div>
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="form-group">
                        <label for="type">Type <span class="badge bg-secondary badge-field">Max 1 char</span></label>
                        <input type="text" class="form-control" id="type" name="type" 
                               placeholder="e.g., V" maxlength="1" data-preview="preview-type" data-default="V">
                        <div class="char-counter"><span id="typeCount">0</span>/1</div>
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="form-group">
                        <label for="provider">Provider <span class="badge bg-secondary badge-field">Max 1 char</span></label>
                        <input type="text" class="form-control" id="provider" name="provider" 
                               placeholder="e.g., A" maxlength="1" data-preview="preview-provider" data-default="X">
                        <div class="char-counter"><span id="providerCount">0</span>/1</div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 mb-3">
                    <div class="form-group">
                        <label for="region">Region <span class="badge bg-secondary badge-field">Max 4 chars</span></label>
                        <input type="text" class="form-control" id="region" name="region" 
                               placeholder="e.g., USEA" maxlength="4" data-preview="preview-region" data-default="GLBL">
                        <div class="char-counter"><span id="regionCount">0</span>/4</div>
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="form-group">
                        <label for="environment">Environment <span class="badge bg-secondary badge-field">Max 1 char</span></label>
                        <input type="text" class="form-control" id="environment" name="environment" 
                               placeholder="e.g., P" maxlength="1" data-preview="preview-env" data-default="P">
                        <div class="char-counter"><span id="environmentCount">0</span>/1</div>
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="form-group">
                        <label for="function">Function <span class="badge bg-secondary badge-field">Max 2 chars</span></label>
                        <input type="text" class="form-control" id="function" name="function" 
                               placeholder="e.g., WB" maxlength="2" data-preview="preview-function" data-default="SV">
                        <div class="char-counter"><span id="functionCount">0</span>/2</div>
                    </div>
                </div>
            </div>
            <div class="d-flex gap-2">
                <button type="submit" class="btn btn-primary">
                    <i class="bi bi-plus-circle"></i> Generate Name
                </button>
                <button type="reset" class="btn btn-outline-secondary">
                    <i class="bi bi-arrow-repeat"></i> Reset
                </button>
            </div>
        </form>
    </div>
</div>

<!-- Reservation Result -->
<div id="reservationResult" class="card dashboard-card mt-4 d-none">
    <div class="card-header">
        <h5 class="card-title mb-0">Reservation Result</h5>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-md-6">
                <p><strong>Server Name:</strong> <span id="serverName" class="font-monospace"></span></p>
                <p><strong>Reservation ID:</strong> <span id="reservationId" class="text-muted small"></span></p>
            </div>
            <div class="col-md-6 text-end">
                <button id="commitBtn" class="btn btn-success">
                    <i class="bi bi-check-circle"></i> Commit This Name
                </button>
            </div>
        </div>
    </div>
</div>